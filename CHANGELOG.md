# Changelog

## [v2.1.0] - 2021-03-21
## Added
- Add support to add multiple troop types into one formation group.

## [v2.0.19] - 2021-02-09
### Fixed
- Fix spawning issue in Bannerlord e1.5.8

### Added
- Add "Time of day" option.

## [v2.0.18] - 2021-02-08
### Fixed
- Keep compatible with Bannerlord e1.5.7 and Bannerlord e1.5.8".

## [e2.0.17] - 2021-01-09
### Fixed
- Keep compatible with Bannerlord e1.5.5 and e1.5.6.

### Changed
- Remove `0Harmony.dll` from release and add `Bannerlord.Harmony` as dependency, since it is a very common mod dependency.

## [e2.0.16] - 2020-10-10
### Fixed
- Keep compatible with Bannerlord e1.5.2 and e1.5.3.

## [e2.0.15] - 2020-08-07
### Fixed
- Fix the problem that menu bgm keeps playing in battle.

### Added
- Add Turkish translation.

## [e2.0.14] - 2020-08-02
### Fixed
- Fix crash when starting siege battle.

### Changed
- Change default party morale to 100.

## [e2.0.13] - 2020-08-02
### Fixed
- Keep compatible with Bannerlord e1.4.3.

## [e2.0.12] - 2020-06-09
### Fixed
- Fix crash when perk is applied.

## [e2.0.11] - 2020-06-08
### Fixed
- Fix potential crash when config file is corrupted.

- Fix the problem that HP of hero is not recovered after a battle.

- Fix spawning behavior: Now all groups will be spawned in proportion according to their respective numbers of soldiers in groups.

- Fix the problem of no reinforcement.

### Added

- Add battle size unlocker.

## [e2.0.10] - 2020-06-07
### Fixed
- Fix the bug that changing banner does not work.

## [e2.0.9] - 2020-06-06
### Fixed
- Fix a bug that selecting siege battle but finally enters a village battle.

## [e2.0.8] - 2020-06-05
### Fixed
- Fix possible crash when perk is added.

### Added
- Add an option to select the behavior of applying equipment modifiers.

## [e2.0.7] - 2020-06-02
### Fixed
- Fix wrong banner in siege.

- Fix bodyguard logic.

- Fix player role selection.

## [e2.0.6] - 2020-06-02
### Changed
- Now player can be spawned with horse in siege battle.

### Added
- Add player role selections view when player is sergeant.

## [e2.0.5] - 2020-05-31
### Fixed
- Fix banner color in mp mode.

## [e2.0.4] - 2020-05-31
### Fixed
- Fix crash in mp mode caused by banner.
- Fix crash in siege when player general is not enabled.

## [e2.0.3 beta] - 2020-05-31
### Fixed
- Keep compatible with Bannerlord e1.4.1.

## [e2.0.2] - 2020-05-31
### Added
- Add "change tactic level" feature.

### Fixed
- Fix "text doesn't exists" problem in occupation list.

## [e2.0.1] - 2020-05-31
### Added
- Add "Swap team" feature.

### Fixed
- Fix the problem that default banner can cause cloth of soldiers disappear.

## [e2.0.0] - 2020-05-30
### Added
- Support singleplayer troops

### Changed
- Make the mod from scratch.

## [e1.0.2] - 2020-04-09
### Changed
- Change free camera to rts-sytle camera. Player can issue order in this mode.

## [e1.0.1] - 2020-04-05

### Added
- Add score board in custom battle mode and siege battle mode.

- Add bgm.

### Fixed
- Keep compatible with Bannerlord e1.0.5.

- Fix the bug that sky brightness and rain density settings has no effect in custom battle mode and siege battle mode.

- Fix crash when switching to free camera with team AI enabled in custom battle mode.

## [e1.0.0] - 2020-04-01
### Fixed
- Keep compatible with Bannerlord e1.0.0.

### Added
- Add localization for Chinese.

## [0.7.1] - 2020-03-30
### Fixed
- Fix the bug that disable death option in mission menu does not work.

## [0.7.0] - 2020-03-29
### Fixed
- Keep compatible with b0.9.0

- Fix the bug that soldiers will not celebrate victory after mission reset.

### Added
- Add disable death notification UI option.

### Changed
- Change organization of files in ModuleData. Customized characters are placed in a new file.

## [0.6.3-hotfix] - 2020-03-26
### Fixed
- Fix the bug that resetting battle speed does not work.

## [0.6.3] - 2020-03-26
### Added
- Add adjusting battle speed feature.

### Fixed
- Fix incorrect team color when player is spawned as defender.

## [0.6.2] - 2020-03-25
### Added
- Add resetting mission in Test Battle mode.

- Add option to use realistic blocking.

- Add option to let player spawn as defender(useful in siege battle).

- Add buttons in mission menu(open by pressing letter O) so that player can switch team/free camera, toggle pause, etc. using mouse.

### Changed
- Do not use numpad anymore.

### Fixed
- Fix bug that siege battle use armor configured by test battle.

## [0.6.1] - 2020-03-21
### Added
- Add mission result in test battle mode.

### Changed
- Adjust margin in mission menu UI.

### Fixed
- Fix the bug that player agent is not controlled by AI after switched to free camera.

## [0.6.0] - 2020-03-16
### Added
- New siege battle mode: more suitable AI for siege battle and with deployment stage.

- Press numpad 8 to open more options.

- Press P to pause game.

- AI tactic option: Player can choose to enable and disable tactic options.

- Enable/Disable AI: Player can enable/disable AI for enemy and player team.

- Player can choose to disable agent label and soldier's making grunt voice behaviour.

### Fixed
- Fix the bug that customized character gender is always male.

- Fix the bug that armor bonus of improved armor perks is not applied.

## [0.5.5] - 2020-03-15
## Added
- Add map boundary switch feature.

### Fixed
- Fix wrong cloth color.

- Remove redundant maps.

- Remove redundant UI elements.

## [0.5.4] - 2020-03-15
### Fixed
- Keep compatible with b0.8.5.

### Added
- Add more maps.

- Add html page for README.

### Changed
- Change "Enemy Charge" to "Charge" that let both sides to charge.

- Change UI text.

## [0.5.3] - 2020-03-04
### Added
- Add more maps.

### Fixed
- Keep compatible with b0.8.1.

- Fix a bug of order UI.

## [0.5.2] - 2020-03-01
### Added
- Add readme file for Chinese.

### Changed
- Changed some UI texts to make them more consistent.

### Fixed
- Fix wrong default spawning position in map `mp_skirmish_map_005` and `mp_skirmish_map_008`.

## Removed
- Removed mission boundary in Test Battle mode.

## [0.5.1] - 2020-02-28
### Removed
- Remove map boundary in test battle mode as suggested.

### Fixed
- Fix calvary spawning bug.

## [0.5.0] - 2020-02-28
### Added
- Add no dying mode: enable by pressing `numpad 7`.

- Add support for customizing character. Please read `README.md` first before modifying.

## [0.4.7] - 2020-02-27
### Fixed
- Fix the bug that player can not run initially in test battle mode.

## [0.4.6] - 2020-02-26
### Added
- Press L can teleport in battle test mode now.

### Fixed
- Fix crash when number of troops is 0.

- Fix wrong spawning interval between calvary and infrantry.

## [0.4.5] - 2020-02-26

## Fixed
- Fix a bug in config UI;

- fix wrong spawning behaviour of calvary in test battle mode.

## [0.4.4] - 2020-02-25

### Changed
- Troops will not charge at the begining in test battle mode.

### Fixed
- Fix spawning behaviour in test battle mode.


## [0.4.3] - 2020-02-25

### Added
- Add perks to Custom Battle mode.

### Changed
- Now player and enemy general are added to formation 4.

### Fixed
- Fix the bug that adjusting troop count does not work.

- Fix the bug that battle ends when only player is alive in player team in custom battle mode.

## [0.4.2] - 2020-02-25

### Added
- Now each team has three formations.

- Add enemy team commander.

### Changed
- Now Numpad6 can also let player control troop after dead.

- Changed banner and cloth color choosing logic.

### Fixed
- Fix the bug that player agent is not alarmed after switch to free camera.

## [0.4.1] - 2020-02-23

### Changed
- Only keeps sergeant map in custom battle.

### Fixed
- Fix bug that pressing `esc` in config view will not return to main menu.

## [0.4] - 2020-02-23

### Added
- Add custom battle: Spawn troops in built-in way.
- Add switch team function.

### Fixed
- Fix the bug that Battle Config shown does not correctly reflect the actual change after clicking `Reset to Default`.

## [0.3.9] - 2020-02-17

### Changed
- Released file structure is adjusted to make it easier to install.

## [0.3.8] - 2020-02-17

### Added
- Battle Config can be saved to file now. Save path is `(User Home)\Documents\Mount and Blade II Bannerlord\Configs\EnhancedBattleTest\Param.xml`

- Rain density can now be adjusted.

## [0.3.7] - 2020-02-16

### Added
- Now player can choose different maps. Spawning positions are all elaborately choosed.

- Now player can specify sky brightness.

### Changed
- Ending mission will return to battle test menu now.
- Restore AI think time and apply time. Set them is useless because the engine will overwrite them.

### Fixed
- Fix more crashing cases.

## [0.3.6] - 2020-02-15

### Added
- Now troops will make grunt after being issued an order.

### Changed
- Set AI think time and apply time both to 0.

### Fixed
- Fix crashing when player troop number is 0.

## [0.3.5] - 2020-02-15

### Added
- Now player can control one of the troops by pressing `F` after being killed.

### Changed
- Change kill notification to single player style.
- Use built-in way to leave mission.

### Fixed
- Fix a bug that soldiers will not recover from victory celebration after player issueing an order when soldiers only have one weapon in slots.

## [0.3.4] - 2020-02-14

### Changed
- Keep compatible with Bannerlord `b0.7.1`.
- Change map to `mp_sergeant_map_001` and adjust default formation position.

### Fixed
- Fix a bug that changing formation position does not work.

## [0.3.3] - 2020-02-13

### Added
- Add victory celebration for victory troops. Celebration will end after issueing orders.
- Add agent label which is missed after v0.3.1.
- Add escape menu and option UI.

## [0.3.2] - 2020-02-13

### Changed
- Change team color to the color of culture.
- Do not use any banner.

### Fixed
- Fix the bug that the selected perk is displayed incorrectly after changing selected character.
